<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dojo Survey</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <style>
            body {
                margin-left: 100px;
                margin-right: 300px;
                margin-top: 50px;
            }
        </style>
    </head>
    <body>

        <!-- POST FORM RESULTS -->
        {% if session['name'] %}
        <h3 class="h3">Name: {{session['name']}}</h3>
        <h3 class="h3">Dojo Location: {{session['location']}}</h3>
        <h3 class="h3">Favorite Languages:</h3>

        <!-- CHECKBOX ANSWERS -->
            {% for language in session['favorite_languages'] %}
                {{language}}
            {% endfor %}
        <h3 class="h3">Comment: {{session['comment']}}</h3>
        {{ session.clear() or '' }}
        {% else %}
        
        <form action="/result" method="POST">
            <!-- NAME -->
            <label class="form-label" for="name">Your Name:</label>
            <input class="form-control" type="text" name="name" placeholder="Full name"/><br><br>
            <!-- LOCATION -->
            <label for="location">Dojo Location:</label><br>
            <input type="radio" name="location" value= "San Jose"/>
            <label for="San Jose">San Jose</label>
            <input type="radio" name="location" value="Seattle"/>
            <label for="Seattle">Seattle </label>
            <input type="radio" name="location" value="Chicago"/>
            <label for="Chicago">Chicago</label>
            <input type="radio" name="location" value="Los Angeles"/>
            <label for="Los Angeles">Los Angeles</label><br><br>
            <!-- LANGUAGES -->
            <label for="favorite languages">Favorite Languages:</label><br>
            <input type="checkbox" name="favorite_languages[]" value="Python"/>
            <label for="Python">Python</label>
            <input type="checkbox" name="favorite_languages[]" value="CSS"/>
            <label for="CSS">CSS</label>
            <input type="checkbox" name="favorite_languages[]" value="Javascript"/>
            <label for="Javascript">Javascript</label>
            <input type="checkbox" name="favorite_languages[]" value="HTML"/>
            <label for="HTML">HTML</label><br><br>
            <label class="form-label" for="comment">Comment:</label><br>
            <textarea class="form-control" name="comment" cols="30" rows="10" placeholder="Your comment here..."></textarea><br><br>
            <button class="btn btn-primary">Submit</button>
        </form>
        {% endif %}
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    </body>
</html>
